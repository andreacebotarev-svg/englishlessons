<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Palace - 3D English Learning</title>
    
    <!-- ðŸ”§ IMPORT MAP: Fix Three.js and GSAP imports for GitHub Pages -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.169.0/examples/jsm/",
            "gsap": "https://cdn.jsdelivr.net/npm/gsap@3.12.5/index.js"
        }
    }
    </script>
    
    <!-- âœ… CORE CSS (Order matters!) -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/scene-3d.css">
    
    <!-- âœ… UI LAYER (Three.js renders to canvas, these are overlays) -->
    <link rel="stylesheet" href="css/ui-layer.css">
    <link rel="stylesheet" href="css/crosshair.css">
    
    <!-- âœ… QUIZ MODE -->
    <link rel="stylesheet" href="css/quiz-mode.css">
    
    <!-- âœ… MOBILE -->
    <link rel="stylesheet" href="css/mobile-controls.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- âŒ REMOVED: CSS files deleted in Three.js migration -->
    <!-- <link rel="stylesheet" href="css/world-objects.css"> (CSS 3D rendering) -->
    <!-- <link rel="stylesheet" href="css/cards.css"> (CSS card styling) -->
    <!-- <link rel="stylesheet" href="css/room-card.css"> (CSS rooms) -->
    <!-- <link rel="stylesheet" href="css/room-box.css"> (CSS boxes) -->
    <!-- <link rel="stylesheet" href="css/wasd-hints.css"> (CSS only) -->
    <!-- <link rel="stylesheet" href="css/animations.css"> (CSS only) -->
</head>
<body>
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸ“± LOADING SCREEN -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="loading" class="loading">
        <div class="loading__spinner"></div>
        <div class="loading__text">Loading Palace...</div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸŽ® 3D SCENE CONTAINER -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="scene">
        <div id="world">
            <!-- Corridor Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½ builder.js -->
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸŽ¯ CROSSHAIR (Ð¦Ð•ÐÐ¢Ð  Ð­ÐšÐ ÐÐÐ) -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="crosshair"></div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸ“Š UI PANELS -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    
    <!-- Progress Bar (Top) -->
    <div class="progress-container">
        <div id="progress-bar" class="progress-bar"></div>
    </div>

    <!-- Word Counter (Top Right) -->
    <div id="word-counter" class="word-counter">0 / 0</div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- âŒ¨ï¸ WASD HINTS (DESKTOP) -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="wasd-keys" id="wasd-keys">
        <div class="wasd-key" data-key="w">W</div>
        <div class="wasd-key" data-key="a">A</div>
        <div class="wasd-key" data-key="s">S</div>
        <div class="wasd-key" data-key="d">D</div>
        <div class="wasd-hint">+Shift = Sprint</div>
    </div>

    <!-- Debug Panel -->
    <div id="debug-panel" style="
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.8);
        color: #0f0;
        padding: 10px;
        font-family: monospace;
        font-size: 12px;
        border-radius: 5px;
        z-index: 10000;
        display: none;
    ">
        <div>FPS: <span id="debug-fps">60</span></div>
        <div>Camera X: <span id="debug-x">0</span></div>
        <div>Camera Y: <span id="debug-y">150</span></div>
        <div>Camera Z: <span id="debug-z">0</span></div>
        <div>Mode: <span id="debug-mode">WASD</span></div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸ“± MOBILE D-PAD (created by mobile-dpad.js) -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ðŸ“œ SCRIPTS (ES6 MODULES) -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/mobile-dpad.js"></script>
    <script>
        // Toggle debug panel with 'G' key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'g' || e.key === 'G') {
                const panel = document.getElementById('debug-panel');
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        });
        
        // Update debug panel from Camera
        setInterval(() => {
            if (window.Camera && document.getElementById('debug-panel').style.display === 'block') {
                document.getElementById('debug-x').textContent = Math.round(window.Camera.x);
                document.getElementById('debug-y').textContent = Math.round(window.Camera.y);
                document.getElementById('debug-z').textContent = Math.round(window.Camera.z);
            }
        }, 100);
    </script>
</body>
</html>