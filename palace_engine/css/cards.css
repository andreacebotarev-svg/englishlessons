/* ============================================
   –ö–ê–†–¢–û–ß–ö–ò –°–õ–û–í –í –ö–û–†–ò–î–û–†–ï
   ============================================ */

/* –ö–û–†–ò–î–û–† - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
#corridor {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transform-style: preserve-3d;
  pointer-events: none;
}

/* –ö–ê–†–¢–û–ß–ö–ê ("–ö–û–ú–ù–ê–¢–ê") - –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò */
.room {
  position: absolute;
  width: 350px;
  min-height: 450px;
  padding: 30px;
  
  /* ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: left/top —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ builder.js!
     transform –¢–û–õ–¨–ö–û –¥–ª—è translateZ –∏ rotateY */
  transform-origin: center center;
  margin-left: -175px; /* –ø–æ–ª–æ–≤–∏–Ω–∞ —à–∏—Ä–∏–Ω—ã –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
  margin-top: -225px;  /* –ø–æ–ª–æ–≤–∏–Ω–∞ –≤—ã—Å–æ—Ç—ã */
  
  border-radius: 16px;
  background: linear-gradient(135deg, 
    var(--card-bg-start, #1a1a2e), 
    var(--card-bg-end, #16213e));
  
  box-shadow: 
    0 10px 40px rgba(0, 0, 0, 0.5),
    0 0 60px rgba(255, 214, 10, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  
  transform-style: preserve-3d;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 214, 10, 0.2);
  
  /* –ö–†–ò–¢–ò–ß–ù–û: –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å + z-index */
  pointer-events: auto;
  z-index: 10;
  cursor: pointer;
  
  /* –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–¥–Ω—é—é —Å—Ç–æ—Ä–æ–Ω—É –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ */
  backface-visibility: hidden;
}

/* –≠–§–§–ï–ö–¢ –ü–†–ò –ù–ê–í–ï–î–ï–ù–ò–ò */
.room:hover {
  filter: brightness(1.2);
  box-shadow: 
    0 20px 60px rgba(255, 214, 10, 0.3),
    0 0 100px rgba(255, 214, 10, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* ============================================
   –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´
   ============================================ */

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ (—Å–ª–æ–≤–æ + –∫–Ω–æ–ø–∫–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è) */
.room-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  width: 100%;
  z-index: 2;
}

/* –ê–ù–ì–õ–ò–ô–°–ö–û–ï –°–õ–û–í–û */
.room-word {
  font-size: 42px;
  font-weight: 700;
  color: #ffffff;
  text-align: center;
  letter-spacing: 1px;
  
  text-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.6),
    0 0 20px rgba(255, 214, 10, 0.3);
  
  background: linear-gradient(180deg, #fff, #ffd60a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  user-select: none;
}

/* –ö–Ω–æ–ø–∫–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è */
.room-speaker {
  background: rgba(255, 214, 10, 0.2);
  border: 2px solid rgba(255, 214, 10, 0.5);
  border-radius: 50%;
  width: 44px;
  height: 44px;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex-shrink: 0;
}

.room-speaker:hover {
  background: rgba(255, 214, 10, 0.4);
  border-color: rgba(255, 214, 10, 0.8);
  transform: scale(1.1);
}

.room-speaker:active {
  transform: scale(0.95);
}

/* –û–ë–ï–†–¢–ö–ê –î–õ–Ø –ö–ê–†–¢–ò–ù–ö–ò */
.room-image-wrapper {
  position: relative;
  width: 100%;
  max-width: 280px;
  height: 240px;
  
  border-radius: 12px;
  overflow: hidden;
  
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(255, 214, 10, 0.2),
    inset 0 0 0 2px rgba(255, 255, 255, 0.15);
  
  transform: translateZ(25px);
  transition: transform 0.3s ease;
}

/* –ö–ê–†–¢–ò–ù–ö–ê */
.room-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  
  filter: brightness(0.95) contrast(1.05) saturate(1.1);
  transition: all 0.3s ease;
}

/* –ü–õ–ï–ô–°–•–û–õ–î–ï–†, –µ—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å */
.room-image-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, 
    rgba(26, 26, 46, 0.8), 
    rgba(22, 33, 62, 0.8));
  z-index: -1;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞/–ø–µ—Ä–µ–≤–æ–¥–∞ */
.room-content {
  width: 100%;
  min-height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

/* –ü—Ä–∏–º–µ—Ä —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è */
.room-example {
  font-size: 16px;
  font-style: italic;
  color: rgba(255, 255, 255, 0.8);
  text-align: center;
  line-height: 1.5;
  padding: 5px 10px;
}

/* –ü–ï–†–ï–í–û–î (–†–£–°–°–ö–ò–ô) */
.room-translation {
  font-size: 22px;
  font-weight: 500;
  color: rgba(255, 214, 10, 0.9);
  text-align: center;
  font-style: italic;
  
  padding: 10px 20px;
  border-radius: 20px;
  background: rgba(0, 0, 0, 0.3);
  
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è */
.room-example,
.room-translation {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   –ê–ö–¢–ò–í–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï (–ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏)
   ============================================ */

.room--active {
  box-shadow: 
    0 20px 60px rgba(255, 214, 10, 0.4),
    0 0 100px rgba(255, 214, 10, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 214, 10, 0.6);
}

.room--active .room-word {
  text-shadow: 
    0 2px 12px rgba(0, 0, 0, 0.8),
    0 0 40px rgba(255, 214, 10, 0.8);
}

.room--active .room-image-wrapper {
  transform: translateZ(40px) scale(1.05);
  box-shadow: 
    0 16px 48px rgba(0, 0, 0, 0.7),
    0 0 40px rgba(255, 214, 10, 0.4);
}

.room--active .room-image {
  filter: brightness(1.05) contrast(1.1) saturate(1.2);
}

/* ============================================
   –í–ê–†–ò–ê–¶–ò–ò –ü–û –°–õ–û–ñ–ù–û–°–¢–ò
   ============================================ */

.room--easy {
  --card-bg-start: #1b5e20;
  --card-bg-end: #2e7d32;
  border-color: rgba(76, 175, 80, 0.3);
}

.room--medium {
  --card-bg-start: #e65100;
  --card-bg-end: #f57c00;
  border-color: rgba(255, 193, 7, 0.3);
}

.room--hard {
  --card-bg-start: #b71c1c;
  --card-bg-end: #c62828;
  border-color: rgba(244, 67, 54, 0.3);
}

/* ============================================
   –ê–ù–ò–ú–ê–¶–ò–Ø –ü–û–Ø–í–õ–ï–ù–ò–Ø
   ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º opacity, –ù–ï transform!
   ============================================ */

.room {
  animation: roomEnter 0.6s ease-out backwards;
}

@keyframes roomEnter {
  from {
    opacity: 0;
    filter: blur(10px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

/* –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
.room:nth-child(1) { animation-delay: 0.05s; }
.room:nth-child(2) { animation-delay: 0.1s; }
.room:nth-child(3) { animation-delay: 0.15s; }
.room:nth-child(4) { animation-delay: 0.2s; }
.room:nth-child(5) { animation-delay: 0.25s; }

/* ============================================
   üöÄ DESKTOP-ONLY GPU –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
   –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º GPU –ø–∞–º—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ
   –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –æ—Ç–∫–ª—é—á–µ–Ω–æ —á–µ—Ä–µ–∑ responsive.css
   ============================================ */

@media (min-width: 769px) {
  /* –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º GPU –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
  .room--active {
    will-change: transform, filter;
  }
  
  /* –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º GPU –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
  .room--active .room-image-wrapper {
    will-change: transform;
  }
}