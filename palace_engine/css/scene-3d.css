/* ============================================
   3D SCENE & WORLD
   –û–ø–∏—Å–∞–Ω–∏–µ: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 3D —Å—Ü–µ–Ω—ã, –∫–∞–º–µ—Ä–∞, —Ç—É–º–∞–Ω
   –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: variables.css, animations.css
   ============================================ */

/* üéÆ –ü–ï–†–°–ü–ï–ö–¢–ò–í–ê –î–õ–Ø WASD - –£–ë–†–ê–ù–ê, –ß–¢–û–ë–´ –ù–ï –ù–ê–†–£–®–ê–¢–¨ FIXED POSITIONING */
/* html, body { */
/*     perspective: var(--fov); */
/*     perspective-origin: 50% 50%; */
/* } */

/* === SCENE CONTAINER === */
#scene, .scene-3d {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    /* REMOVED: perspective - was breaking fixed positioning of D-Pad */
    /* perspective: var(--fov);  üéÆ –£—Å–∏–ª–µ–Ω–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ - –£–ë–†–ê–ù–ê! */
    perspective-origin: 50% 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: visible;
    background: radial-gradient(ellipse at center, var(--bg-dark) 0%, var(--bg-black) 100%);
    /* transform-style: preserve-3d; moved to #world container to not break fixed positioning */
}

/* === WORLD CONTAINER === */
#world, #corridor {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    /* üéÆ Transform —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS –≤ camera.js */
}

/* === 3D WORLD TRANSFORM === */
#world {
    transform-style: preserve-3d; /* 3D effects preserved here instead of on scene container */
}

/* === FOG EFFECT === */
#scene::after, .scene-3d::after {
    content: '';
    position: fixed;
    top: 0; 
    left: 0; 
    right: 0; 
    bottom: 0;
    background: 
        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
        radial-gradient(ellipse 50% 40% at center 50%, 
            transparent 0%,
            rgba(0, 0, 0, 0.3) 40%,
            rgba(0, 0, 0, 0.6) 70%,
            rgba(0, 0, 0, 0.9) 90%,
            #000 100%
        ),
        /* –í–µ—Ä—Ö–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
        linear-gradient(180deg, 
            rgba(0, 0, 0, 0.8) 0%, 
            transparent 30%,
            transparent 70%,
            rgba(0, 0, 0, 0.8) 100%
        ),
        /* –ë–æ–∫–æ–≤–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
        linear-gradient(90deg,
            rgba(0, 0, 0, 0.7) 0%,
            transparent 20%,
            transparent 80%,
            rgba(0, 0, 0, 0.7) 100%
        );
    pointer-events: none;
    z-index: var(--z-fog);
    animation: fogPulse 10s ease-in-out infinite;
}

@keyframes fogPulse {
    0%, 100% { opacity: 0.9; }
    50% { opacity: 1; }
}