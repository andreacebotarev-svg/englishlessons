# üì¶ Scripts

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Ä–æ–∫–∞–º–∏.

---

## üé® `generate-lesson-images.js`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–≤ —É—Ä–æ–∫–∞ –∏–∑ [Pexels API](https://www.pexels.com/api/) –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç JSON.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 14+
- Pexels API key (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –ª–∏–º–∏—Ç: 200 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
node scripts/generate-lesson-images.js 263

# –° API key –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
PEXELS_API_KEY="your_key_here" node scripts/generate-lesson-images.js 263
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç?

1. ‚úÖ –ß–∏—Ç–∞–µ—Ç `data/263.json`
2. ‚úÖ –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `images/263/`
3. ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤ `vocabulary.words`:
   - –ò—â–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Pexels
   - –°–∫–∞—á–∏–≤–∞–µ—Ç –≤ `images/263/vote.jpg`
   - –î–æ–±–∞–≤–ª—è–µ—Ç –≤ JSON: `"image": "263/vote.jpg"`
4. ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π JSON
5. ‚úÖ –î–µ–ª–∞–µ—Ç –ø–∞—É–∑—É 2 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ–º rate limit)

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üé® GENERATING IMAGES FOR LESSON 263

üìÅ Created directory: images/263/

üìö Found 25 words

[1/25] vote
   üîç Searching: "vote"...
   ‚úÖ Downloaded: vote.jpg

[2/25] prison
   üîç Searching: "prison"...
   ‚úÖ Downloaded: prison.jpg

[3/25] politician
   ‚úÖ Already exists

==================================================
‚úÖ LESSON 263 COMPLETE!
==================================================
üì• Downloaded: 22
‚è≠Ô∏è  Skipped:    2
‚ùå Failed:     1
üìä Total:      25

üíæ JSON updated: data/263.json
üìÅ Images dir:   images/263/
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```
images/
‚îî‚îÄ‚îÄ 263/
    ‚îú‚îÄ‚îÄ vote.jpg
    ‚îú‚îÄ‚îÄ prison.jpg
    ‚îú‚îÄ‚îÄ politician.jpg
    ‚îú‚îÄ‚îÄ marry.jpg
    ‚îî‚îÄ‚îÄ ... (25 —Ñ–∞–π–ª–æ–≤)
```

–ê –≤ `data/263.json` –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç:

```json
{
  "en": "vote",
  "ru": "–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å",
  "transcription": "[v…ô ät]",
  "image": "263/vote.jpg"  ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
}
```

---

## üõ†Ô∏è Workflow —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∫–∞

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–µ—à—å JSON —É—Ä–æ–∫–∞

```bash
vim data/264.json
# –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π –∏–∑ —à–∞–±–ª–æ–Ω–∞ data/template.json
```

### 2Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—à—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–æ–¥–∏–Ω —Ä–∞–∑!)

```bash
node scripts/generate-lesson-images.js 264
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Ç–∫—Ä–æ–π `palace_engine/index.html?lesson=264` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

### 4Ô∏è‚É£ –ö–æ–º–º–∏—Ç–∏—à—å

```bash
git add data/264.json images/264/
git commit -m "Add lesson 264 with images"
git push
```

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **Zero runtime dependencies** ‚Äî API —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
‚úÖ **–û—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç–∞** ‚Äî –≤—Å—ë –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏  
‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å—Ä–∞–∑—É —Å GitHub CDN  
‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å** ‚Äî Git —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è  
‚úÖ **–ù–µ –Ω–∞—Ä—É—à–∞–µ—à—å rate limits** ‚Äî –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É—Ä–æ–∫–∞  

---

## üìå TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ Unsplash API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (WebP, —Å–∂–∞—Ç–∏–µ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–≤—ã–±–æ—Ä –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
