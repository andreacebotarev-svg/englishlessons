:root {
    --depth: 0px; /* Текущая позиция камеры (меняется через JS) */
    --wall-texture: url('https://images.unsplash.com/photo-1533090161767-e6ffed986c88?q=80&w=2069&auto=format&fit=crop'); /* Темный бетон */
    --floor-texture: url('https://images.unsplash.com/photo-1516455590571-18256e5bb9ff?q=80&w=2084&auto=format&fit=crop'); /* Дерево */
    --neon-gold: #FFD60A;
}

body {
    margin: 0;
    background: #000;
    overflow: hidden; /* Скрываем стандартные скроллбары */
    font-family: sans-serif;
    color: white;
}

/* === ИНТЕРФЕЙС === */
#ui-layer {
    position: fixed;
    z-index: 1000;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Чтобы клики проходили сквозь UI в 3D мир */
}

#loading, #error-msg {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    background: rgba(0,0,0,0.8);
    padding: 20px;
    border-radius: 10px;
}

#error-msg { color: #ff453a; }

#controls-hint {
    position: absolute;
    bottom: 20px; width: 100%;
    text-align: center;
    opacity: 0.6;
    font-size: 14px;
}

#back-btn {
    pointer-events: auto;
    position: absolute;
    top: 20px; left: 20px;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.3);
    color: white;
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 20px;
}

/* === 3D СЦЕНА === */
#scene {
    width: 100vw;
    height: 100vh;
    perspective: 800px; /* Глубина перспективы */
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

#world {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d; /* Важно для 3D детей */
    transform: translateZ(var(--depth)); /* Движение камеры */
    transition: transform 0.1s linear; /* Плавность движения */
}

/* Эффект тумана (затемнение вдали) */
#scene::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(circle, transparent 30%, #000 90%);
    pointer-events: none;
    z-index: 900;
}

/* === ОБЪЕКТЫ МИРА === */
.floor {
    position: absolute;
    width: 2000px; /* Ширина пола */
    height: 100000px; /* Длина пола (с запасом) */
    background: var(--floor-texture);
    background-size: 500px; /* Повторение текстуры */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotateX(90deg) translateZ(-200px);
    filter: brightness(0.6);
}

.wall-left, .wall-right {
    position: absolute;
    width: 100000px; /* Длина стены */
    height: 1000px; /* Высота стены */
    background: var(--wall-texture);
    top: 50%;
    transform-origin: center;
    filter: brightness(0.4);
}

.wall-left {
    left: 50%;
    transform: translate(-50%, -50%) rotateY(90deg) translateZ(-300px);
}

.wall-right {
    left: 50%;
    transform: translate(-50%, -50%) rotateY(90deg) translateZ(300px);
}

/* === КАРТОЧКИ СЛОВ === */
.card {
    position: absolute;
    width: 300px;
    height: 200px;
    background: rgba(20, 20, 20, 0.9);
    border: 2px solid var(--neon-gold);
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
    cursor: pointer;
    backface-visibility: hidden; /* Не видно с обратной стороны */
    
    /* Начальная позиция (переопределяется в JS) */
    top: 50%;
    left: 50%;
}

.card:hover {
    background: #1c1c1e;
    box-shadow: 0 0 30px rgba(255, 214, 10, 0.4);
    transform: scale(1.05); /* Легкое увеличение */
}

.card h2 { margin: 0; font-size: 32px; color: var(--neon-gold); }
.card p { font-size: 18px; color: #aaa; margin-top: 10px; }
.card .example { font-size: 14px; font-style: italic; color: #666; margin-top: 15px; text-align: center; display: none; }

/* При наведении или клике показываем пример */
.card:hover .example { display: block; }
